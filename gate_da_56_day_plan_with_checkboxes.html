<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GATE DA — 56-Day Study Plan (3 hrs/day)</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--muted:#93c5fd;--accent:#60a5fa}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#071029 0%, #071421 100%);color:#e6eef8}
    .wrap{max-width:980px;margin:28px auto;padding:20px}
    header{display:flex;gap:12px;align-items:center}
    h1{margin:0;font-size:20px}
    p.lead{margin:4px 0 18px;color:#9fb7df}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
    button{background:var(--accent);border:none;padding:8px 12px;border-radius:8px;color:#04293a;cursor:pointer;font-weight:600}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#cfe6ff}
    .small{padding:6px 8px;font-size:13px}
    .progress{height:14px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden;margin:8px 0}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#38bdf8);width:0%}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    .week{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px}
    .week h3{margin:0 0 6px;font-size:16px}
    .days{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:8px}
    .day{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);display:flex;gap:8px;align-items:flex-start}
    .day input[type=checkbox]{margin-top:3px;width:18px;height:18px}
    .day .meta{font-size:13px;color:#bcd7fb}
    .day strong{display:block;color:#fff}
    footer{margin-top:18px;color:#9fb7df;font-size:13px}
    .actions{margin-left:auto;display:flex;gap:8px}
    .controls .file-input{display:none}
    .note{margin-top:8px;color:#a8c6ef;font-size:13px}
    .topline{display:flex;align-items:center;gap:12px}
    a.ref{color:#cfe6ff;text-decoration:underline}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>GATE DA — 56-Day Study Plan (3 hrs/day)</h1>
        <p class="lead">Interactive checklist: mark days done, save progress, export/import, and track completion.</p>
        <div class="topline">
          <div class="progress" title="Progress"><i id="progress-bar"></i></div>
          <div id="progress-text">0 of 56 days completed</div>
        </div>
      </div>
      <div class="actions" style="margin-left:auto">
        <button id="saveLocal" class="small ghost">Save to browser</button>
        <button id="exportBtn" class="small">Export JSON</button>
        <label class="small ghost" style="display:inline-block;cursor:pointer;padding:8px;border-radius:8px">Import JSON<input type="file" id="importFile" class="file-input" accept="application/json"></label>
        <button id="resetBtn" class="small ghost">Reset</button>
        <button id="downloadHtml" class="small">Download HTML</button>
      </div>
    </header>

    <div class="controls">
      <button id="markAll">Mark all done</button>
      <button id="clearAll" class="ghost">Clear all</button>
      <button id="showRemaining" class="ghost small">Show remaining days</button>
      <button id="showAll" class="ghost small">Show all</button>
    </div>

    <main class="grid" id="planRoot">
      <!-- Weeks generated by JS -->
    </main>

    <p class="note">Tip: progress is saved automatically to local browser storage, but use Export to save a backup JSON file you can import later.</p>
    <footer>Built for 3 hours/day. Feel free to edit tasks in the HTML file locally after downloading.</footer>
  </div>

  <script>
    // --- Minimal data: 56 concise day tasks
    const dayTasks = [
      'Matrices: types & operations. 20 MCQs. NumPy matrix ops.',
      'Determinant, rank, inverse. 20 MCQs. Revise formulas.',
      'Eigenvalues & eigenvectors. 10 problems. NumPy practice.',
      'Orthogonality & projections. 20 MCQs.',
      'Probability basics: sample space & events. 20 MCQs. Simulation.',
      'Week 1 revision: mixed questions (15).',
      'Rest day.',

      'Mean, variance, covariance. 20 MCQs.',
      'Distributions: Normal, Binomial, Poisson. 20 MCQs.',
      'Joint & conditional distributions. Python problems.',
      'Sampling & CLT. 15 questions.',
      'Estimators: MLE & MAP. 15 MCQs.',
      'Hypothesis testing: t-test & chi-square. SciPy practice.',
      'Rest day.',

      'Linear regression: theory + implement in Python.',
      'Logistic regression: theory + practice. 20 MCQs.',
      'Naive Bayes: implement & test.',
      'k-NN & distance metrics: practice problems.',
      'Decision Trees basics: theory + small implementation.',
      'SVM basics & kernels. 15 MCQs.',
      'Rest day.',

      'k-means clustering: implement from scratch.',
      'PCA: concept & sklearn application.',
      'Pandas: filtering & groupby — 20 tasks.',
      'Pandas: merging & reshaping — small dataset practice.',
      'SQL: SELECT, WHERE, JOIN — 25 queries.',
      'SQL: GROUP BY & window functions — 20 queries.',
      'Rest day.',

      'ER models & design. 15 conceptual questions.',
      'Relational algebra basics & conversions.',
      'Functional dependencies & normalization to BCNF.',
      'Indexing: B/B+ trees & concepts. 15 MCQs.',
      'Transactions & ACID: serializability basics.',
      'Big Data basics: MapReduce & HDFS. 20 MCQs.',
      'Rest day.',

      'Time & space complexity. 20 MCQs.',
      'Searching & sorting: implement in Python.',
      'Recursion tracing: practice problems.',
      'Graph basics: BFS & DFS implementation.',
      'Pseudocode tracing (GATE-style) & practice.',
      'Mixed CT & algorithm practice: 20 questions.',
      'Rest day.',

      'Mock Test 1 (full-length). 1.5 hrs + analysis.',
      'Revise weak topics from Mock 1.',
      'PYQs: Statistics & ML (past year questions).',
      'PYQs: DBMS & SQL (past year questions).',
      'Mock Test 2 (full-length) + 1 hr analysis.',
      'Focus: Probability & Regression (light day).',
      'Rest day.',

      'Revise Linear Algebra & Probability.',
      'Revise Statistics & Inference.',
      'Revise ML Algorithms (key formulas & intuition).',
      'Revise DBMS & SQL (queries & normalization).',
      'Mock Test 3 (full-length) + 1 hr analysis.',
      'Mixed practice: 100 questions + formula revision.',
      'Light revision & rest: prepare for exam day.'
    ];

    // Base references (kept from previous edits)
    const baseRefs = [
      '<a class="ref" href="https://ocw.mit.edu/courses/18-06-linear-algebra-spring-2010/" target="_blank" rel="noopener">MIT OCW Linear Algebra</a>, <a class="ref" href="https://www.3blue1brown.com/lessons" target="_blank" rel="noopener">3Blue1Brown (Essence of Linear Algebra)</a>',
      '<a class="ref" href="https://www.khanacademy.org/math/linear-algebra" target="_blank" rel="noopener">Khan Academy — Matrices</a>, <a class="ref" href="https://www.3blue1brown.com/lessons" target="_blank" rel="noopener">3Blue1Brown</a>',
      '<a class="ref" href="https://www.3blue1brown.com/lessons" target="_blank" rel="noopener">3Blue1Brown — Eigenvalues</a>',
      '<a class="ref" href="https://ocw.mit.edu/courses/18-06-linear-algebra-spring-2010/" target="_blank" rel="noopener">MIT OCW — Orthogonality</a>',
      '<a class="ref" href="https://www.khanacademy.org/math/statistics-probability/probability-library" target="_blank" rel="noopener">Khan Academy — Probability Basics</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">GATE PYQs & Discussions</a>',
      '',

      '<a class="ref" href="https://www.khanacademy.org/math/statistics-probability" target="_blank" rel="noopener">Khan Academy — Statistics</a>',
      '<a class="ref" href="https://www.youtube.com/user/joshstarmer" target="_blank" rel="noopener">StatQuest (Distributions)</a>',
      '<a class="ref" href="https://www.youtube.com/user/joshstarmer" target="_blank" rel="noopener">StatQuest — Conditional Probability</a>',
      '<a class="ref" href="https://seeing-theory.brown.edu/" target="_blank" rel="noopener">Seeing Theory — Sampling & CLT</a>',
      '<a class="ref" href="https://www.youtube.com/user/joshstarmer" target="_blank" rel="noopener">StatQuest — MLE/MAP</a>',
      '<a class="ref" href="https://www.youtube.com/user/joshstarmer" target="_blank" rel="noopener">StatQuest — Hypothesis Testing</a>',
      '',

      '<a class="ref" href="https://www.youtube.com/watch?v=E5RjZ0AlB_s" target="_blank" rel="noopener">StatQuest — Linear Regression</a>, <a class="ref" href="https://scikit-learn.org/stable/modules/linear_model.html" target="_blank" rel="noopener">scikit-learn docs</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=yIYKR4sgzI8" target="_blank" rel="noopener">StatQuest — Logistic Regression</a>',
      '<a class="ref" href="https://scikit-learn.org/stable/modules/naive_bayes.html" target="_blank" rel="noopener">scikit-learn — Naive Bayes</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=HVXime0nQeI" target="_blank" rel="noopener">StatQuest — k-NN</a>',
      '<a class="ref" href="https://scikit-learn.org/stable/modules/tree.html" target="_blank" rel="noopener">scikit-learn — Decision Trees</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=Y6RRHw9u3Eo" target="_blank" rel="noopener">StatQuest — SVM</a>',
      '',

      '<a class="ref" href="https://www.youtube.com/watch?v=_aWzGGNrcic" target="_blank" rel="noopener">StatQuest — k-Means</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=FgakZw6K1QQ" target="_blank" rel="noopener">StatQuest — PCA</a>',
      '<a class="ref" href="https://pandas.pydata.org/docs/" target="_blank" rel="noopener">pandas — Official Docs</a>',
      '<a class="ref" href="https://pandas.pydata.org/docs/user_guide/merging.html" target="_blank" rel="noopener">pandas — Merging & Reshaping</a>',
      '<a class="ref" href="https://www.w3schools.com/sql/" target="_blank" rel="noopener">SQL Basics — W3Schools</a>',
      '<a class="ref" href="https://mode.com/sql-tutorial/sql-window-functions/" target="_blank" rel="noopener">SQL Window Functions — Mode</a>',
      '',

      '<a class="ref" href="https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model" target="_blank" rel="noopener">ER Diagrams — Overview</a>',
      '<a class="ref" href="https://www.geeksforgeeks.org/relational-algebra/" target="_blank" rel="noopener">Relational Algebra — GeeksforGeeks</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=2ZTq8yX8Qp8" target="_blank" rel="noopener">Normalization — Neso Academy</a>',
      '<a class="ref" href="https://cs.stanford.edu/people/eroberts/courses/soco/projects/2006-07/Database/B-trees.pdf" target="_blank" rel="noopener">Indexing & B+ Trees — Stanford Notes</a>',
      '<a class="ref" href="https://www.geeksforgeeks.org/dbms-transaction-concepts/" target="_blank" rel="noopener">Transactions & ACID — GeeksforGeeks</a>',
      '<a class="ref" href="https://hadoop.apache.org/docs/stable/" target="_blank" rel="noopener">Hadoop — Official Docs</a>',
      '',

      '<a class="ref" href="https://www.youtube.com/watch?v=8hly31xKli0" target="_blank" rel="noopener">Time & Space Complexity — Abdul Bari</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=ZZuD6iUe3Pc" target="_blank" rel="noopener">Sorting Algorithms — Abdul Bari</a>',
      '<a class="ref" href="https://cs50.harvard.edu/x/2022/notes/5/recursion/" target="_blank" rel="noopener">Recursion — CS50 Notes</a>',
      '<a class="ref" href="https://www.youtube.com/watch?v=pcKY4hjDrxk" target="_blank" rel="noopener">Graphs — Abdul Bari</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">GATE PYQs & Pseudocode Practice</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">GATE Mixed Practice</a>',
      '',

      '<a class="ref" href="https://practice.geeksforgeeks.org/" target="_blank" rel="noopener">Mock Tests & Practice Platforms</a>',
      '<a class="ref" href="https://ocw.mit.edu/" target="_blank" rel="noopener">Revision Resources</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">ML PYQs — GATEOverflow</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">DBMS PYQs — GATEOverflow</a>',
      '<a class="ref" href="https://practice.geeksforgeeks.org/" target="_blank" rel="noopener">Mock 2 Platforms</a>',
      '<a class="ref" href="https://www.youtube.com/user/joshstarmer" target="_blank" rel="noopener">StatQuest — Probability Focus</a>',
      '',

      '<a class="ref" href="https://ocw.mit.edu/" target="_blank" rel="noopener">LA + Probability Revision</a>',
      '<a class="ref" href="https://www.khanacademy.org/" target="_blank" rel="noopener">Stats Revision — Khan Academy</a>',
      '<a class="ref" href="https://www.youtube.com/" target="_blank" rel="noopener">ML Revision Videos</a>',
      '<a class="ref" href="https://pandas.pydata.org/docs/" target="_blank" rel="noopener">DBMS & SQL Revision</a>',
      '<a class="ref" href="https://practice.geeksforgeeks.org/" target="_blank" rel="noopener">Mock Test Platforms</a>',
      '<a class="ref" href="https://gateoverflow.in/" target="_blank" rel="noopener">Mixed PYQs</a>',
      ''
    ];

    // Generate YouTube search links (5 Minutes Engineering) and merge with baseRefs
    const youtubeRefs = dayTasks.map(t => {
      const topic = (t.split('.')[0] || '').replace(/[^a-zA-Z0-9 ]/g,'').trim().replace(/ +/g,'+');
      return `<a class="ref" href="https://www.youtube.com/results?search_query=5+minutes+engineering+${topic}" target="_blank" rel="noopener">5 Minutes Engineering — ${t.split('.')[0]}</a>`;
    });

    const refs = baseRefs.map((r, i) => {
      const base = r || '';
      const yt = youtubeRefs[i] || '';
      return (base && yt) ? `${base} <br> ${yt}` : (base || yt);
    });

    // Create 56-day checklist UI
    const planRoot = document.getElementById('planRoot');
    function createWeekElement(weekIndex, startDay){
      const weekDiv = document.createElement('section');
      weekDiv.className = 'week';
      const h = document.createElement('h3');
      h.textContent = `Week ${weekIndex + 1}`;
      weekDiv.appendChild(h);

      const daysWrap = document.createElement('div');
      daysWrap.className = 'days';

      for(let i=0;i<7;i++){
        const dayNum = startDay + i;
        if(dayNum > dayTasks.length) break;
        const dayBox = document.createElement('label');
        dayBox.className = 'day';
        dayBox.setAttribute('data-day', dayNum);

        const cb = document.createElement('input');
        cb.type = 'checkbox';
        cb.id = 'cb-' + dayNum;
        cb.dataset.day = dayNum;

        const meta = document.createElement('div');
        meta.className = 'meta';
        const title = document.createElement('strong');
        const topic = (dayTasks[dayNum-1] || '').split('.')[0];
        title.textContent = `Day ${dayNum} — ${topic}`;
        const desc = document.createElement('div');
        desc.innerHTML = dayTasks[dayNum-1] + '<br><em>Ref: ' + (refs[dayNum-1]||'') + '</em>' + '<br><em>Additional: <a class="ref" href="https://nptel.ac.in/" target="_blank" rel="noopener">NPTEL</a>, <a class="ref" href="https://www.coursera.org/" target="_blank" rel="noopener">Coursera</a>, standard textbooks & PDFs</em>';

        meta.appendChild(title);
        meta.appendChild(desc);

        dayBox.appendChild(cb);
        dayBox.appendChild(meta);
        daysWrap.appendChild(dayBox);
      }

      weekDiv.appendChild(daysWrap);
      return weekDiv;
    }

    for(let w=0; w<8; w++){
      const start = w*7 + 1;
      planRoot.appendChild(createWeekElement(w, start));
    }

    // --- State management ---
    const STORAGE_KEY = 'gate_da_56_progress_v1';

    function getAllCheckboxes(){
      return Array.from(document.querySelectorAll('input[type=checkbox]')).filter(c=>c.id.startsWith('cb-'));
    }

    function updateProgress(){
      const cbs = getAllCheckboxes().filter(cb=>!isRestDay(cb.dataset.day));
      const total = cbs.length;
      const done = cbs.filter(cb=>cb.checked).length;
      const percent = total === 0 ? 0 : Math.round((done/total)*100);
      document.getElementById('progress-bar').style.width = percent + '%';
      document.getElementById('progress-text').textContent = `${done} of ${total} days completed (${percent}%)`;
    }

    function isRestDay(day){
      const idx = Number(day)-1; return dayTasks[idx] && dayTasks[idx].toLowerCase().startsWith('rest');
    }

    // Load from localStorage
    function loadFromLocal(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return false;
      try{
        const obj = JSON.parse(raw);
        for(const [day, val] of Object.entries(obj)){
          const cb = document.getElementById('cb-' + day);
          if(cb) cb.checked = !!val;
        }
        return true;
      }catch(e){console.warn('Failed to load progress',e);return false}
    }

    // Save to localStorage
    function saveToLocal(){
      const data = {};
      getAllCheckboxes().forEach(cb=>{ data[cb.dataset.day] = cb.checked });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      flashButton(document.getElementById('saveLocal'), 'Saved!');
    }

    // Export JSON (download)
    function exportJSON(){
      const data = {};
      getAllCheckboxes().forEach(cb=>{ data[cb.dataset.day] = cb.checked });
      const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'gate_da_56_progress.json'; a.click(); URL.revokeObjectURL(url);
    }

    // Import JSON
    function importJSON(file){
      const reader = new FileReader();
      reader.onload = e => {
        try{
          const obj = JSON.parse(e.target.result);
          for(const [day, val] of Object.entries(obj)){
            const cb = document.getElementById('cb-' + day);
            if(cb) cb.checked = !!val;
          }
          updateProgress();
          flashButton(document.getElementById('importFile'), 'Imported');
        }catch(err){alert('Invalid JSON file')}
      };
      reader.readAsText(file);
    }

    // Helpers
    function flashButton(btn, text){
      const orig = btn.textContent;
      btn.textContent = text;
      setTimeout(()=>btn.textContent = orig, 1000);
    }

    // Event wiring
    document.addEventListener('change', e=>{
      if(e.target && e.target.type === 'checkbox'){
        saveToLocal(); updateProgress();
      }
    });

    document.getElementById('saveLocal').addEventListener('click', saveToLocal);
    document.getElementById('exportBtn').addEventListener('click', exportJSON);
    document.getElementById('importFile').addEventListener('change', e=>{
      if(e.target.files && e.target.files[0]) importJSON(e.target.files[0]);
    });

    document.getElementById('resetBtn').addEventListener('click', ()=>{
      if(confirm('Clear all progress from page and local storage?')){
        getAllCheckboxes().forEach(cb=>cb.checked=false);
        localStorage.removeItem(STORAGE_KEY);
        updateProgress();
      }
    });

    document.getElementById('markAll').addEventListener('click', ()=>{
      getAllCheckboxes().forEach(cb=>{ if(!isRestDay(cb.dataset.day)) cb.checked = true });
      saveToLocal(); updateProgress();
    });
    document.getElementById('clearAll').addEventListener('click', ()=>{
      if(confirm('Clear all checkboxes?')){ getAllCheckboxes().forEach(cb=>cb.checked=false); saveToLocal(); updateProgress(); }
    });

    document.getElementById('showRemaining').addEventListener('click', ()=>{
      document.querySelectorAll('.day').forEach(el=>{
        const cb = el.querySelector('input[type=checkbox]');
        if(cb && !cb.checked) el.style.display = 'flex'; else el.style.display = 'none';
      });
    });
    document.getElementById('showAll').addEventListener('click', ()=>{ document.querySelectorAll('.day').forEach(el=>el.style.display='flex'); });

    // Download current HTML file (self-contained)
    document.getElementById('downloadHtml').addEventListener('click', ()=>{
      const doctype = '<!doctype html>\n';
      const html = document.documentElement.outerHTML;
      const content = doctype + html;
      const blob = new Blob([content], {type: 'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'GATE_DA_56-Day_Checklist.html'; a.click(); URL.revokeObjectURL(url);
    });

    // Auto-load and initial update
    loadFromLocal(); updateProgress();

    // Expose save on unload (best-effort)
    window.addEventListener('beforeunload', saveToLocal);
  </script>
</body>
</html>
